{% load static %}
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
  
  <style>
    .block {
      display: block;
      width: 50%;
      border: none;
      background-color: #BBBBBB;
      color: white;
      padding: 14px 28px;
      font-size: 16px;
      cursor: pointer;
      text-align: center;
    }

    .block:hover {
      background-color: #ddd;
      color: black;
    }
    
    table, th, td {
    border: 2px solid black;
    }
    
    div.a {
    font-size: 90%;
    }
</style>
  
<body>
    <div class="container mt-5">
        <img src="{% static 'app/images/loddge_logo.png' %}" width="60%"   alt="loddge logo"/><br/>
        <h1>Admin Dashboard</h1>
        <br>
        <a href="/admin_page/">
            <button class="block">Back to Admin Page</button>
        </a>
        <br>
        <br>
        
        <h4> Top 10 Revenue-Generating Listings </h4>
        <table border=2>
            <thead>
                <th>Listing Name</th>
                <th>Total Revenue</th>
            </thead>
            {% for listRev in recordsRev %}
            <tr>
                <td> {{ listRev.0 }} </td>
                <td> {{ listRev.1 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
        <h4> Top 10 Revenue-Generating Neighbourhoods and their Number of Listings </h4>
        <table border=2>
            <thead>
                <th>Neighbourhood</th>
                <th>Total Revenue</th>
                <th>Number of Listings</th>
            </thead>
            {% for listRevL in recordsRevL %}
            <tr>
                <td> {{ listRevL.0 }} </td>
                <td> {{ listRevL.1 }} </td>
                <td> {{ listRevL.2 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
        <h4> Top 20% of Listing Owners with the Greatest Revenues </h4>
        <table border=2>
            <thead>
                <th>Owner ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Total Revenue</th>
            </thead>
            {% for listO in recordsO %}
            <tr>
                <td> {{ listO.0 }} </td>
                <td> {{ listO.1 }} </td>
                <td> {{ listO.2 }} </td>
                <td> {{ listO.3 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
        <h4> Top 20% of Listings by Average Review </h4>
        <table border=2>
            <thead>
                <th>Listing ID</th>
                <th>Listing Name</th>
                <th>Average Review</th>
            </thead>
            {% for listA in recordsA %}
            <tr>
                <td> {{ listA.0 }} </td>
                <td> {{ listA.1 }} </td>
                <td> {{ listA.2 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
        <h4> Top 20% of Users with the Highest Number of Reservations </h4>
        <table border=2>
            <thead>
                <th>User ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Number of Reservations</th>
            </thead>
            {% for listB in recordsB %}
            <tr>
                <td> {{ listB.0 }} </td>
                <td> {{ listB.1 }} </td>
                <td> {{ listB.2 }} </td>
                <td> {{ listB.3 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
        <h4> Top 20% of Listing Owners with the Highest Number of Reservations under their Listings </h4>
        <table border=2>
            <thead>
                <th>User ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Number of Reservations</th>
            </thead>
            {% for listC in recordsC %}
            <tr>
                <td> {{ listC.0 }} </td>
                <td> {{ listC.1 }} </td>
                <td> {{ listC.2 }} </td>
                <td> {{ listC.3 }} </td>
                <td>
            </tr>
            {% endfor %}
        </table>
        
        <br>
        <br>
        
    </div>
</body>
</html>
